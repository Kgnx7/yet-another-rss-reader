(function(e){function t(t){for(var n,i,l=t[0],c=t[1],o=t[2],d=0,h=[];d<l.length;d++)i=l[d],Object.prototype.hasOwnProperty.call(a,i)&&a[i]&&h.push(a[i][0]),a[i]=0;for(n in c)Object.prototype.hasOwnProperty.call(c,n)&&(e[n]=c[n]);u&&u(t);while(h.length)h.shift()();return r.push.apply(r,o||[]),s()}function s(){for(var e,t=0;t<r.length;t++){for(var s=r[t],n=!0,l=1;l<s.length;l++){var c=s[l];0!==a[c]&&(n=!1)}n&&(r.splice(t--,1),e=i(i.s=s[0]))}return e}var n={},a={app:0},r=[];function i(t){if(n[t])return n[t].exports;var s=n[t]={i:t,l:!1,exports:{}};return e[t].call(s.exports,s,s.exports,i),s.l=!0,s.exports}i.m=e,i.c=n,i.d=function(e,t,s){i.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:s})},i.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},i.t=function(e,t){if(1&t&&(e=i(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var s=Object.create(null);if(i.r(s),Object.defineProperty(s,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var n in e)i.d(s,n,function(t){return e[t]}.bind(null,n));return s},i.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return i.d(t,"a",t),t},i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},i.p="/yet-another-rss-reader/";var l=window["webpackJsonp"]=window["webpackJsonp"]||[],c=l.push.bind(l);l.push=t,l=l.slice();for(var o=0;o<l.length;o++)t(l[o]);var u=c;r.push([0,"chunk-vendors"]),s()})({0:function(e,t,s){e.exports=s("56d7")},1:function(e,t){},2:function(e,t){},"262d":function(e,t,s){"use strict";var n=s("4ca8"),a=s.n(n);a.a},"277c":function(e,t,s){"use strict";var n=s("e34c"),a=s.n(n);a.a},4491:function(e,t,s){"use strict";var n=s("5694"),a=s.n(n);a.a},"4ca8":function(e,t,s){},5694:function(e,t,s){},"56d7":function(e,t,s){"use strict";s.r(t);s("e260"),s("e6cf"),s("cca6"),s("a79d");var n=s("2b0e"),a=s("8c4f"),r=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{attrs:{id:"app"}},[s("div",{staticClass:"container flex-container"},[s("header-comp",{attrs:{title:e.title,desc:e.desc}}),s("main",{staticClass:"main flex-row"},[s("rss-channels",{attrs:{channels:e.rssChannels},on:{handleDeleteChannel:e.deleteChannel,addRssChannel:e.addRssChannel}}),s("keep-alive",[s("router-view",{key:e.$route.path,attrs:{name:"rssFeeds",channels:e.rssChannels}})],1),s("router-view",{attrs:{name:"rssMsg"}}),s("router-view",{attrs:{name:"selectChannelMsg"}})],1),s("footer-comp")],1)])},i=[],l=(s("a4d3"),s("99af"),s("4de4"),s("e439"),s("dbb4"),s("b64b"),s("159b"),s("ade3")),c=s("2909"),o=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("header",{staticClass:"header",attrs:{id:"header-comp"}},[s("h1",{staticClass:"header__h1"},[e._v(e._s(e.title))]),s("small",{staticClass:"header__small"},[e._v(e._s(e.desc))])])},u=[],d={name:"header-comp",props:{title:String,desc:String}},h=d,f=(s("4491"),s("2877")),p=Object(f["a"])(h,o,u,!1,null,"a52bb654",null),m=p.exports,_=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("aside",{staticClass:"flex-small main__aside",attrs:{id:"rss-channels"}},[s("rss-channel-form",{on:{handleFormSubmit:e.handleFormSubmit}}),s("rss-channels-list",{attrs:{channels:e.channels},on:{handleDeleteChannel:e.handleDeleteChannel}})],1)},g=[],v=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("nav",{attrs:{id:"rss-channels-list"}},[s("h3",{staticClass:"rss-channels-list__counter"},[e._v("Total amount of RSS channels: "+e._s(e.channels.length))]),s("ul",{staticClass:"rss-channels-list__list"},e._l(e.channels,(function(t){return s("li",{key:t.id,staticClass:"rss-channels-list__item"},[s("router-link",{attrs:{to:"/channel/"+t.id}},[s("button",{staticClass:"rss-channels-list__button full-button muted-button square-button"},[e._v(" "+e._s(t.title)+" ")])]),s("details",{staticClass:"rss-channels-list__options"},[s("summary",[e._v("Details")]),s("div",{staticClass:"options__wrapper"},[s("p",{staticClass:"rss-channels-link__p"},[e._v("Rss channel link: "),s("a",{attrs:{href:t.link}},[s("small",{staticClass:"rss-channels-list__link"},[e._v(e._s(t.link))])])]),s("p",{staticClass:"rss-channels-link__p"}),s("button",{staticClass:"rss-channels-list__button rss-channels-list__button--remove muted-button square-button",on:{click:function(s){return e.handleDeleteChannel(t.id)}}},[e._v(" Remove channel ")])])])],1)})),0)])},b=[],C={name:"rss-channels-list",props:{channels:Array},methods:{handleDeleteChannel:function(e){this.$emit("handleDeleteChannel",e)}}},k=C,y=(s("277c"),Object(f["a"])(k,v,b,!1,null,null,null)),w=y.exports,O=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("details",{staticClass:"rss-channel-form",attrs:{id:"rss-channel-form"}},[s("summary",{staticClass:"rss-channel-form__summary"},[e._v("Add new RSS channel")]),s("form",{staticClass:"rss-channel-form__form",on:{submit:function(t){return t.preventDefault(),e.handleSubmit(t)}}},[s("label",{attrs:{for:"title"}},[e._v(e._s(e.titleErrMsg))]),s("input",{directives:[{name:"model",rawName:"v-model",value:e.newChannel.title,expression:"newChannel.title"}],staticClass:"rss-channel-form__input",class:{"has-error":e.titleErrMsg},attrs:{type:"text",id:"name",placeholder:"title"},domProps:{value:e.newChannel.title},on:{input:function(t){t.target.composing||e.$set(e.newChannel,"title",t.target.value)}}}),s("label",{attrs:{for:"link"}},[e._v(e._s(e.linkErrMsg))]),s("input",{directives:[{name:"model",rawName:"v-model",value:e.newChannel.link,expression:"newChannel.link"}],staticClass:"rss-channel-form__input",class:{"has-error":e.linkErrMsg},attrs:{type:"text",id:"link",placeholder:"link"},domProps:{value:e.newChannel.link},on:{input:function(t){t.target.composing||e.$set(e.newChannel,"link",t.target.value)}}}),s("input",{staticClass:"square-button",attrs:{type:"submit",value:"Add new RSS channel"}})])])},j=[],x=(s("4d63"),s("25f0"),s("9911"),{name:"rss-channel-form",data:function(){return{newChannel:{title:"",link:""},titleErrMsg:null,linkErrMsg:null}},methods:{handleSubmit:function(){this.invalidTitle()&&(this.titleErrMsg="Title is empty"),this.isURLValid(this.newChannel.link)?(this.$emit("handleFormSubmit",this.newChannel),this.linkErrMsg=null,this.titleErrMsg=null):this.linkErrMsg="URL is invalid"},invalidTitle:function(){return""===this.newChannel.title},isURLValid:function(e){var t=new RegExp("^(https?:\\/\\/)?((([a-z\\d]([a-z\\d-]*[a-z\\d])*)\\.)+[a-z]{2,}|((\\d{1,3}\\.){3}\\d{1,3}))(\\:\\d+)?(\\/[-a-z\\d%_.~+]*)*(\\?[;&a-z\\d%_.~+=-]*)?(\\#[-a-z\\d_]*)?$","i");return!!t.test(e)}}}),R=x,$=(s("a795"),Object(f["a"])(R,O,j,!1,null,null,null)),M=$.exports,S={name:"rss-channels",components:{RssChannelsList:w,RssChannelForm:M},props:{channels:Array},methods:{handleDeleteChannel:function(e){this.$emit("handleDeleteChannel",e)},handleFormSubmit:function(e){this.$emit("addRssChannel",e)}}},E=S,D=(s("d066d"),Object(f["a"])(E,_,g,!1,null,null,null)),P=D.exports,U=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("header",{staticClass:"footer",attrs:{id:"footer-comp"}},[s("p",{staticClass:"footer__text"},[e._v(e._s(e.footerText))])])},A=[],z={name:"footer-comp",data:function(){return{footerText:"some footer text"}}},L=z,F=(s("7aa6"),Object(f["a"])(L,U,A,!1,null,"439cc683",null)),T=F.exports;function V(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),s.push.apply(s,n)}return s}function q(e){for(var t=1;t<arguments.length;t++){var s=null!=arguments[t]?arguments[t]:{};t%2?V(Object(s),!0).forEach((function(t){Object(l["a"])(e,t,s[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):V(Object(s)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(s,t))}))}return e}var N={name:"app",components:{HeaderComp:m,RssChannels:P,FooterComp:T},data:function(){return{title:"Rss reader 🔊",desc:"yet another rss reader, powered by vuejs, primitive-ui and rss-reader npm packages",currentChannel:1,counter:3,debag:null,rssChannels:[{id:1,title:"Reddit: the front page of the internet",link:"https://www.reddit.com/r/programming.rss"},{id:2,title:"Новые вопросы на StackOverflow",link:"https://stackoverflow.com/feeds/tag?tagnames=javascript&sort=newest"}],channelMessages:[]}},methods:{deleteChannel:function(e){this.debag=e,this.rssChannels=this.rssChannels.filter((function(t){return t.id!=e}))},addRssChannel:function(e){e.id=this.counter++,this.rssChannels=[].concat(Object(c["a"])(this.rssChannels),[q({},e)])}}},J=N,H=(s("903d"),Object(f["a"])(J,r,i,!1,null,"9e5d0158",null)),I=H.exports,B=(s("5197"),function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("article",{staticClass:"main__article flex-large",attrs:{id:"rss-feeds"}},[null!=e.msg?s("h3",{staticClass:"feed__header"},[e._v(e._s(e.msg))]):s("div",{staticClass:"feed__wrapper"},[s("h3",{staticClass:"feed__header"},[e._v(e._s(e.feedTitle))]),s("p",{staticClass:"feed__p"},[e._v("URL: "+e._s(e.feedUrl))]),s("p",{staticClass:"feed__p"},[e._v("Description: "+e._s(e.feedDesc))]),s("p",{staticClass:"feed__p"},[e._v("Link: "+e._s(e.feedLink))]),s("p",{staticClass:"feed__p"},[e._v("Amoung of messages: "),s("span",{staticClass:"feed__amount"},[e._v(e._s(e.channelMessages.length))])]),s("p",{staticClass:"feed__p"},[e._v("Amoung of authors: "),s("span",{staticClass:"feed__amount"},[e._v(e._s(e.authors.size))])]),s("label",{staticClass:"feed__label"},[s("input",{directives:[{name:"model",rawName:"v-model",value:e.onlyUnread,expression:"onlyUnread"}],attrs:{type:"checkbox"},domProps:{checked:Array.isArray(e.onlyUnread)?e._i(e.onlyUnread,null)>-1:e.onlyUnread},on:{change:function(t){var s=e.onlyUnread,n=t.target,a=!!n.checked;if(Array.isArray(s)){var r=null,i=e._i(s,r);n.checked?i<0&&(e.onlyUnread=s.concat([r])):i>-1&&(e.onlyUnread=s.slice(0,i).concat(s.slice(i+1)))}else e.onlyUnread=a}}}),e._v(" Show me only unread msg ")]),s("hr"),s("keep-alive",[e.onlyUnread?s("ul",{staticClass:"feed__list"},e._l(e.channelMessages.filter((function(e){return!1===e.isRead})),(function(t){return s("li",{key:t.id},[s("rss-msg-card",{attrs:{msg:t,channel:e.channel}})],1)})),0):s("ul",{staticClass:"feed__list"},e._l(e.channelMessages,(function(t){return s("li",{key:t.id},[s("rss-msg-card",{attrs:{msg:t,channel:e.channel}})],1)})),0)])],1)])}),G=[],K=(s("e01a"),s("7db0"),s("d3b7"),s("6062"),s("3ca3"),s("ddb0"),s("96cf"),s("b0f0")),Q=s.n(K),W=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("section",{attrs:{id:"rss-msg-card"}},[s("h4",[e._v(e._s(e.msg.title))]),s("p",{staticClass:"card__p card__p--first"},[e._v(e._s(e.msg.isRead?"Прочитано":"Не прочитано"))]),s("time",{attrs:{datetime:e.msg.pubDate}},[e._v("Publication date: "+e._s(e.msg.pubDate))]),s("p",{staticClass:"card__p"},[e._v("Author: "+e._s(e.msg.author))]),s("p",{staticClass:"card__p"},[e._v("Categories: "+e._s(e.msg.categories))]),s("router-link",{attrs:{to:{name:"msg",params:{msg:e.msg,mid:e.msg.id,cid:e.channel.id,markAsRead:e.markAsRead}}}},[e._v(" read more ")]),s("a",{attrs:{href:e.msg.link}},[e._v("link to origin")])],1)},X=[],Y={name:"rss-msg-card",data:function(){return{}},components:{},props:{msg:Object,channel:Object},methods:{markAsRead:function(){this.msg.isRead=!0}}},Z=Y,ee=(s("262d"),Object(f["a"])(Z,W,X,!1,null,"02373ac4",null)),te=ee.exports,se={name:"rss-feeds",data:function(){return{feedTitle:"",feedUrl:"",feedDesc:"",feedLink:"",debag:this.$route.params.id,channel:{},msg:null,channelMessages:[],onlyUnread:!1,isLoading:!1,authors:new Set}},components:{RssMsgCard:te},props:{channels:Array},methods:{isURLValid:function(e){var t=new RegExp("^(https?:\\/\\/)?((([a-z\\d]([a-z\\d-]*[a-z\\d])*)\\.)+[a-z]{2,}|((\\d{1,3}\\.){3}\\d{1,3}))(\\:\\d+)?(\\/[-a-z\\d%_.~+]*)*(\\?[;&a-z\\d%_.~+=-]*)?(\\#[-a-z\\d_]*)?$","i");return!!t.test(e)},updateFeed:function(e){var t=this;if(this.isURLValid(e)){var s="https://cors-anywhere.herokuapp.com/",n=new Q.a;this.msg="loading...",function(){var a;regeneratorRuntime.async((function(r){while(1)switch(r.prev=r.next){case 0:return r.next=2,regeneratorRuntime.awrap(n.parseURL(s+e));case 2:a=r.sent,t.feedTitle=a.title,t.feedUrl=a.feedUrl,t.feedDesc=a.description,t.feedLink=a.link,a.items.forEach((function(e,s){e.isRead=!1,e.id=s+1,t.channelMessages=[].concat(Object(c["a"])(t.channelMessages),[e]),t.authors.add(e.author)})),t.msg=null;case 9:case"end":return r.stop()}}))}()}else this.msg="URL is invalid"}},created:function(){var e=this;this.channel=this.channels.find((function(t){return t.id==e.$route.params.id})),this.updateFeed(this.channel.link)}},ne=se,ae=(s("ef9e"),Object(f["a"])(ne,B,G,!1,null,"34cbe7ae",null)),re=ae.exports,ie=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("article",{staticClass:"main__article flex-large",attrs:{id:"rss-msg"}},[s("a",{on:{click:function(t){return e.$router.go(-1)}}},[e._v("back")]),s("h2",[e._v(e._s(e.$route.params.msg.title))]),s("details",[s("summary",[e._v("Statistics")]),s("svg",{staticClass:"progress-ring",attrs:{width:"120",height:"120"}},[s("circle",{staticClass:"progress-ring__circle",attrs:{stroke:"#eee","stroke-width":"4",fill:"transparent",r:"52",cx:"60",cy:"60"}}),s("circle",{staticClass:"progress-ring__circle",attrs:{stroke:"#2962FF","stroke-width":"4",fill:"transparent",r:"52",cx:"60",cy:"60","stroke-dasharray":e.circumference+" "+e.circumference,"stroke-dashoffset":""+e.strokeDashoffset}})]),s("p",{staticClass:"circle__label"},[e._v(" - Percentage of latin characters in the main content")])]),s("p",{staticClass:"rss-msg__p"},[e._v("Link: "+e._s(e.$route.params.msg.link))]),s("p",{staticClass:"rss-msg__p"},[e._v("Publication date: "+e._s(e.$route.params.msg.pubDate))]),s("p",{staticClass:"rss-msg__p"},[e._v("Authors: "+e._s(e.$route.params.msg.creator))]),s("p",{staticClass:"rss-msg__p"},[e._v("categories: "+e._s(e.$route.params.msg.categories))]),s("p",{staticClass:"rss-msg__p"},[e._v("Main content: "+e._s(e.$route.params.msg.contentSnippet))])])},le=[],ce=(s("1276"),{name:"rss-msg",data:function(){return{circumference:104*Math.PI,strokeDashoffset:this.circumference,debag:0}},components:{},props:{msg:Object},methods:{setProgress:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=this.circumference-e/100*this.circumference;this.strokeDashoffset=t}},created:function(){this.$route.params.markAsRead(),this.setProgress(this.$route.params.msg.contentSnippet.split("").reduce((function(e,t){return t.charCodeAt(0)>=97&&t.charCodeAt(0)<=122?e+1:e}),0))}}),oe=ce,ue=(s("aaca"),Object(f["a"])(oe,ie,le,!1,null,"11867d28",null)),de=ue.exports,he=function(){var e=this,t=e.$createElement;e._self._c;return e._m(0)},fe=[function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("article",{attrs:{id:"select-channel"}},[s("h3",[e._v("Select channel")])])}],pe={name:"select-channel"},me=pe,_e=Object(f["a"])(me,he,fe,!1,null,null,null),ge=_e.exports,ve=[{path:"/",components:{selectChannelMsg:ge}},{path:"/channel/:id",components:{rssFeeds:re},props:!0},{path:"/channel/:cid/msg/:mid",name:"msg",components:{rssMsg:de},props:!0},{path:"*",redirect:"/"}];n["a"].config.productionTip=!1,n["a"].use(a["a"]);var be=new a["a"]({routes:ve});new n["a"]({router:be,render:function(e){return e(I)}}).$mount("#app")},5876:function(e,t,s){},"5b7d":function(e,t,s){},"7aa6":function(e,t,s){"use strict";var n=s("5876"),a=s.n(n);a.a},"903d":function(e,t,s){"use strict";var n=s("9575"),a=s.n(n);a.a},9575:function(e,t,s){},"959e":function(e,t,s){},"9b18":function(e,t,s){},a795:function(e,t,s){"use strict";var n=s("9b18"),a=s.n(n);a.a},aaca:function(e,t,s){"use strict";var n=s("c8a9"),a=s.n(n);a.a},c8a9:function(e,t,s){},d066d:function(e,t,s){"use strict";var n=s("959e"),a=s.n(n);a.a},e34c:function(e,t,s){},ef9e:function(e,t,s){"use strict";var n=s("5b7d"),a=s.n(n);a.a}});
//# sourceMappingURL=app.471b4d21.js.map